{% load static %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Clean Store - –≠–ª–∏—Ç–Ω–∞—è –∫–æ—Å–º–µ—Ç–∏–∫–∞{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ú®</text></svg>">
    
    <!-- Preconnect –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Meta —Ç–µ–≥–∏ –¥–ª—è SEO -->
    <meta name="description" content="Clean Store - —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –∫–æ—Å–º–µ—Ç–∏–∫–∞ –ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å–∞. –†–æ—Å–∫–æ—à–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è —É—Ö–æ–¥–∞ –∏ –∫—Ä–∞—Å–æ—Ç—ã.">
    <meta name="keywords" content="–∫–æ—Å–º–µ—Ç–∏–∫–∞, –ø—Ä–µ–º–∏—É–º, —Ä–æ—Å–∫–æ—à—å, —É—Ö–æ–¥, –∫—Ä–∞—Å–æ—Ç–∞, —ç–ª–∏—Ç–Ω–∞—è –∫–æ—Å–º–µ—Ç–∏–∫–∞">
    <meta name="author" content="Clean Store">
    
    <!-- Open Graph –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π -->
    <meta property="og:title" content="{% block og_title %}Clean Store - –≠–ª–∏—Ç–Ω–∞—è –∫–æ—Å–º–µ—Ç–∏–∫–∞{% endblock %}">
    <meta property="og:description" content="–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –º–∏—Ä —Ä–æ—Å–∫–æ—à–Ω–æ–π –∫–æ—Å–º–µ—Ç–∏–∫–∏ –ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å–∞">
    <meta property="og:type" content="website">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü -->
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Header —Å —Ä–æ—Å–∫–æ—à–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- –õ–æ–≥–æ—Ç–∏–ø -->
                <a href="{% url 'home' %}" class="logo">
                    üé± Clean Store
                </a>
                
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <nav class="nav">
                    <a href="{% url 'appProducts:category_list' %}" class="nav-link">
                        –ö–∞—Ç–∞–ª–æ–≥
                    </a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'appProducts:cart' %}" class="nav-link">
                            –ö–æ—Ä–∑–∏–Ω–∞
                        </a>
                        <a href="{% url 'logout' %}" class="nav-link">
                            –í—ã—Ö–æ–¥ ({{ user.username }})
                        </a>
                    {% else %}
                        <a href="{% url 'login' %}" class="nav-link">
                            –í—Ö–æ–¥
                        </a>
                        <a href="{% url 'register' %}" class="nav-link">
                            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                        </a>
                    {% endif %}
                    <a href="{% url 'appProducts:contact' %}" class="nav-link">
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </a>
                    
                    <!-- –ò–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
                    {% if user.is_authenticated %}
                        <a href="{% url 'appProducts:cart' %}" class="cart-icon" title="–ö–æ—Ä–∑–∏–Ω–∞">
                            üõí
                        </a>
                    {% endif %}
                </nav>
            </div>
        </div>
    </header>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π -->
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="message {{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main">
        {% block hero %}
            <!-- Hero —Å–µ–∫—Ü–∏—è –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            {% if request.resolver_match.url_name == 'home' %}
                <section class="hero">
                    <div class="container">
                        <h1 class="hero-title">–°—Ç–∏–ª—å –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å</h1>
                        <p class="hero-subtitle">
                            –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –¥–ª—è —Ü–µ–Ω–∏—Ç–µ–ª–µ–π –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–æ—Å–∫–æ—à–∏
                        </p>
                        <a href="{% url 'appProducts:category_list' %}" class="btn btn-primary">
                            üéØ –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
                        </a>
                    </div>
                </section>
            {% endif %}
        {% endblock %}
        
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- –≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Ñ—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Clean Store. –†–æ—Å–∫–æ—à—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç–µ.</p>
                <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ü–µ–Ω–∏—Ç–µ–ª–µ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
    <script>
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
        document.addEventListener('DOMContentLoaded', function() {
            const messages = document.querySelectorAll('.message');
            messages.forEach(message => {
                setTimeout(() => {
                    message.style.animation = 'slideOutRight 0.5s ease';
                    setTimeout(() => message.remove(), 500);
                }, 5000);
            });
        });

        // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —Å—Å—ã–ª–æ–∫
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeInUp 0.8s ease forwards';
                }
            });
        }, observerOptions);

        // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤
        setTimeout(() => {
            document.querySelectorAll('.product-card, .table-container, .form-container').forEach(el => {
                observer.observe(el);
            });
        }, 100);
    </script>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π JavaScript –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü -->
    {% block extra_js %}{% endblock %}
</body>
</html>