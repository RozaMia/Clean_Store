{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}–í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî Clean Store{% endblock %}

{% block content %}
<div class="all-products-page">
    <div class="container">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <nav class="breadcrumb">
            <a href="{% url 'home' %}" class="breadcrumb-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <span class="breadcrumb-separator">‚Üí</span>
            <span class="breadcrumb-current">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</span>
        </nav>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
        <div class="page-header-modern">
            <div class="page-title-section">
                <h1 class="page-title-modern">üõçÔ∏è –í—Å–µ —Ç–æ–≤–∞—Ä—ã</h1>
                <p class="page-subtitle">–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: <span class="products-count">{{ total_products }}</span></p>
            </div>
        </div>

        <!-- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
        <div class="filters-toolbar">
            <form method="get" class="filters-form-compact">
                <!-- –ü–æ–∏—Å–∫ -->
                <div class="filter-item search-filter">
                    <div class="search-container">
                        <input type="text" name="search" value="{{ search_query }}" 
                               placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." class="search-input-compact">
                        <button type="submit" class="search-btn-compact" title="–ù–∞–π—Ç–∏">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="m21 21-4.35-4.35"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="filter-item">
                    <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <select name="category" class="filter-select-compact" onchange="this.form.submit()">
                        <option value="">–í—Å–µ</option>
                        {% for category in categories %}
                            <option value="{{ category.slug }}" 
                                    {% if current_category == category.slug %}selected{% endif %}>
                                {{ category.title }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="filter-item">
                    <label class="filter-label">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <select name="subcategory" class="filter-select-compact" onchange="this.form.submit()">
                        <option value="">–í—Å–µ</option>
                        {% for subcategory in subcategories %}
                            <option value="{{ subcategory.slug }}" 
                                    {% if current_subcategory == subcategory.slug %}selected{% endif %}>
                                {{ subcategory.title }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
                <div class="filter-item">
                    <label class="filter-label">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                    <select name="sort" class="filter-select-compact" onchange="this.form.submit()">
                        <option value="name" {% if current_sort == 'name' %}selected{% endif %}>–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                        <option value="price_asc" {% if current_sort == 'price_asc' %}selected{% endif %}>–¶–µ–Ω–∞ ‚Üë</option>
                        <option value="price_desc" {% if current_sort == 'price_desc' %}selected{% endif %}>–¶–µ–Ω–∞ ‚Üì</option>
                        <option value="newest" {% if current_sort == 'newest' %}selected{% endif %}>–ù–æ–≤—ã–µ</option>
                        <option value="popular" {% if current_sort == 'popular' %}selected{% endif %}>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ</option>
                    </select>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="filter-actions-compact">
                    <button type="submit" class="apply-btn-compact" title="–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20,6 9,17 4,12"/>
                        </svg>
                    </button>
                    <a href="{% url 'appProducts:all_products' %}" class="clear-btn-compact" title="–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 6h18"/>
                            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                            <line x1="10" y1="11" x2="10" y2="17"/>
                            <line x1="14" y1="11" x2="14" y2="17"/>
                        </svg>
                    </a>
                </div>
            </form>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö -->
            <div class="results-info">
                <span class="results-count">{{ total_products }} —Ç–æ–≤–∞—Ä{{ total_products|pluralize:"–æ–≤" }}</span>
                {% if search_query or current_category or current_subcategory %}
                    <span class="active-filters">
                        {% if search_query %}
                            <span class="filter-tag">–ü–æ–∏—Å–∫: "{{ search_query }}"</span>
                        {% endif %}
                        {% if current_category_name %}
                            <span class="filter-tag">{{ current_category_name }}</span>
                        {% endif %}
                        {% if current_subcategory_name %}
                            <span class="filter-tag">{{ current_subcategory_name }}</span>
                        {% endif %}
                    </span>
                {% endif %}
            </div>
        </div>

        <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
        {% if products %}
            <div class="products-grid-modern">
                {% for product in products %}
                    <article class="product-card-modern" data-product-id="{{ product.id }}">
                        <div class="product-image-wrapper">
                            <a href="{% url 'appProducts:product_detail' product.subcategory.category.slug product.subcategory.slug product.slug %}" class="product-link">
                                {% if product.images.first %}
                                    <img src="{{ product.images.first.image.url }}" 
                                         alt="{{ product.name }}" 
                                         class="product-image-modern"
                                         loading="lazy">
                                {% else %}
                                    <div class="product-image-placeholder-modern">
                                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                            <path d="M20 7h-3V6a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v11a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-1h3a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zM7 4h6a2 2 0 0 1 2 2v1H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm10 16H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h8v11a4 4 0 0 0 4 4v1a2 2 0 0 1-2 2zm3-3h-2a2 2 0 0 1-2-2V9h4v8z"/>
                                        </svg>
                                        <span>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                                    </div>
                                {% endif %}
                                
                                <!-- –ë–µ–π–¥–∂–∏ —Ç–æ–≤–∞—Ä–∞ -->
                                <div class="product-badges-modern">
                                    {% if product.is_new %}
                                        <span class="product-badge-modern new">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                            –ù–æ–≤–∏–Ω–∫–∞
                                        </span>
                                    {% endif %}
                                    {% if product.is_hit %}
                                        <span class="product-badge-modern hit">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M8.5 2v4.5L12 4l3.5 2.5V2h4v20l-7.5-5L4.5 22V2h4z"/>
                                            </svg>
                                            –•–∏—Ç
                                        </span>
                                    {% endif %}
                                    {% if product.is_sale %}
                                        <span class="product-badge-modern sale">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                            –°–∫–∏–¥–∫–∞
                                        </span>
                                    {% endif %}
                                </div>
                            </a>
                            
                            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                            <div class="product-actions-overlay">
                                <button class="action-btn-modern wishlist" onclick="toggleWishlist({{ product.id }}, this)" title="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                    </svg>
                                </button>
                                <button class="action-btn-modern compare" onclick="toggleCompare({{ product.id }}, this)" title="–°—Ä–∞–≤–Ω–∏—Ç—å">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M9 6l6 6-6 6"/>
                                        <path d="M3 6l6 6-6 6"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="product-content-modern">
                            <div class="product-category-modern">
                                <span class="category-text">{{ product.subcategory.category.title }}</span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m9 18 6-6-6-6"/>
                                </svg>
                                <span class="subcategory-text">{{ product.subcategory.title }}</span>
                            </div>
                            
                            <h3 class="product-title-modern">
                                <a href="{% url 'appProducts:product_detail' product.subcategory.category.slug product.subcategory.slug product.slug %}">
                                    {{ product.name }}
                                </a>
                            </h3>
                            
                            <p class="product-description-modern">{{ product.description|truncatewords:12 }}</p>
                            
                            <div class="product-footer-modern">
                                <div class="product-price-modern">
                                    <span class="price-value">{{ product.price|currency }}</span>
                                    <span class="price-label">–∑–∞ —à—Ç.</span>
                                </div>
                                
                                <div class="product-actions-modern">
                                    <button class="add-to-cart-btn-modern" onclick="addToCart({{ product.id }}, this)" title="–í –∫–æ—Ä–∑–∏–Ω—É">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="8" cy="21" r="1"/>
                                            <circle cx="19" cy="21" r="1"/>
                                            <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
                                        </svg>
                                        –í –∫–æ—Ä–∑–∏–Ω—É
                                    </button>
                                </div>
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>

            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            {% if page_obj.has_other_pages %}
                <div class="pagination-modern">
                    <div class="pagination-info">
                        –ü–æ–∫–∞–∑–∞–Ω–æ {{ page_obj.start_index }}‚Äì{{ page_obj.end_index }} –∏–∑ {{ page_obj.paginator.count }} —Ç–æ–≤–∞—Ä–æ–≤
                    </div>
                    
                    <div class="pagination-links">
                        {% if page_obj.has_previous %}
                            <a href="?{% if request.GET.urlencode %}{{ request.GET.urlencode }}&{% endif %}page=1" class="pagination-btn">¬´ –ü–µ—Ä–≤–∞—è</a>
                            <a href="?{% if request.GET.urlencode %}{{ request.GET.urlencode }}&{% endif %}page={{ page_obj.previous_page_number }}" class="pagination-btn">‚Äπ –ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
                        {% endif %}
                        
                        <span class="pagination-current">
                            –°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page_obj.number }} –∏–∑ {{ page_obj.paginator.num_pages }}
                        </span>
                        
                        {% if page_obj.has_next %}
                            <a href="?{% if request.GET.urlencode %}{{ request.GET.urlencode }}&{% endif %}page={{ page_obj.next_page_number }}" class="pagination-btn">–°–ª–µ–¥—É—é—â–∞—è ‚Ä∫</a>
                            <a href="?{% if request.GET.urlencode %}{{ request.GET.urlencode }}&{% endif %}page={{ page_obj.paginator.num_pages }}" class="pagination-btn">–ü–æ—Å–ª–µ–¥–Ω—è—è ¬ª</a>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        {% else %}
            <!-- –ü—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div class="empty-results">
                <div class="empty-icon">üîç</div>
                <h2>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã</p>
                <a href="{% url 'appProducts:all_products' %}" class="btn btn-primary">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã</a>
            </div>
        {% endif %}
    </div>
</div>

<!-- JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    initAllProducts();
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
function initAllProducts() {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    updateButtonStates();
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Å–µ —Ü–µ–Ω—ã
    formatAllPrices();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ü–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
function formatAllPrices() {
    const priceElements = document.querySelectorAll('.price-current');
    priceElements.forEach(element => {
        const text = element.textContent;
        const number = parseInt(text.replace(/[^\d\s]/g, '').replace(/\s/g, ''));
        if (number) {
            const formatted = formatNumber(number);
            element.textContent = text.replace(/[\d\s]+/g, formatted);
        }
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª —Å –ø—Ä–æ–±–µ–ª–∞–º–∏
function formatNumber(num) {
    if (num % 1 === 0) {
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
    } else {
        return num.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
    }
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
function toggleWishlist(productId, element) {
    element.classList.toggle('active');
    
    const isActive = element.classList.contains('active');
    element.style.transform = 'scale(0.8)';
    
    setTimeout(() => {
        element.style.transform = 'scale(1.1)';
        
        if (isActive) {
            showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!', 'success');
        } else {
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ', 'info');
        }
    }, 100);
    
    console.log('–ò–∑–±—Ä–∞–Ω–Ω–æ–µ:', productId, isActive ? '–¥–æ–±–∞–≤–ª–µ–Ω' : '—É–¥–∞–ª–µ–Ω');
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
function toggleCompare(productId, element) {
    element.classList.toggle('active');
    
    const isActive = element.classList.contains('active');
    element.style.transform = 'scale(0.8)';
    
    setTimeout(() => {
        element.style.transform = 'scale(1.1)';
        
        if (isActive) {
            showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é!', 'success');
        } else {
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è', 'info');
        }
    }, 100);
    
    console.log('–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:', productId, isActive ? '–¥–æ–±–∞–≤–ª–µ–Ω' : '—É–¥–∞–ª–µ–Ω');
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
function addToCart(productId, element) {
    const originalText = element.innerHTML;
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
    element.innerHTML = `
        <div class="loading-spinner"></div>
        –î–æ–±–∞–≤–ª—è–µ–º...
    `;
    element.disabled = true;
    element.style.transform = 'scale(0.95)';
    
    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
    setTimeout(() => {
        element.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20,6 9,17 4,12"/>
            </svg>
            –î–æ–±–∞–≤–ª–µ–Ω–æ!
        `;
        element.style.background = 'linear-gradient(135deg, #10b981, #34d399)';
        
        setTimeout(() => {
            element.innerHTML = originalText;
            element.disabled = false;
            element.style.background = 'linear-gradient(135deg, var(--color-primary), var(--color-secondary))';
            element.style.transform = 'scale(1)';
        }, 2000);
        
        showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!', 'success');
    }, 1000);
    
    console.log('–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É:', productId);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
function updateButtonStates() {
    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
}

// –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
function showNotification(message, type = 'info') {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.textContent = message;
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏–Ω–Ω–µ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –µ—Å–ª–∏ –∏—Ö –µ—â–µ –Ω–µ—Ç
    if (!document.getElementById('loading-spinner-styles')) {
        const style = document.createElement('style');
        style.id = 'loading-spinner-styles';
        style.textContent = `
            .loading-spinner {
                width: 16px;
                height: 16px;
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-top: 2px solid white;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                display: inline-block;
                margin-right: 8px;
            }
            
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 1000;
        font-weight: 500;
        transform: translateX(100%);
        transition: transform 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
            document.body.removeChild(notification);
        }, 300);
    }, 3000);
}
</script>
{% endblock %}
