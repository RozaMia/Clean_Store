{% extends "base.html" %}
{% load static %}

{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî Clean Store{% endblock %}

{% block content %}
<div class="contact-page">
    <div class="container">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <nav class="breadcrumb">
            <a href="{% url 'home' %}" class="breadcrumb-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <span class="breadcrumb-separator">‚Üí</span>
            <span class="breadcrumb-current">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
        </nav>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="contact-header">
            <h1 class="contact-title">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
            <p class="contact-subtitle">–ú—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å –≤–∞–º —Å –≤—ã–±–æ—Ä–æ–º –∏ –ø–æ–∫—É–ø–∫–æ–π —Ç–æ–≤–∞—Ä–æ–≤</p>
        </div>

        <div class="contact-content">
            <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="contact-info-section">
                <div class="info-cards">
                    <div class="info-card phone">
                        <div class="info-icon">üìû</div>
                        <div class="info-content">
                            <h3>–¢–µ–ª–µ—Ñ–æ–Ω</h3>
                            <a href="tel:+74951234567">+7 (495) 123-45-67</a>
                            <p>–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ –†–æ—Å—Å–∏–∏</p>
                        </div>
                    </div>
                    
                    <div class="info-card email">
                        <div class="info-icon">‚úâÔ∏è</div>
                        <div class="info-content">
                            <h3>Email</h3>
                            <a href="mailto:info@cleanstore.ru">info@cleanstore.ru</a>
                            <p>–û—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞</p>
                        </div>
                    </div>
                    
                    <div class="info-card address">
                        <div class="info-icon">üìç</div>
                        <div class="info-content">
                            <h3>–ê–¥—Ä–µ—Å</h3>
                            <p>–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ß–∏—Å—Ç–∞—è, –¥. 10</p>
                            <p>–º. –ß–∏—Å—Ç—ã–µ –ü—Ä—É–¥—ã</p>
                        </div>
                    </div>
                    
                    <div class="info-card hours">
                        <div class="info-icon">üïí</div>
                        <div class="info-content">
                            <h3>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                            <p><strong>–ü–Ω‚Äì–ü—Ç:</strong> 9:00 ‚Äì 20:00</p>
                            <p><strong>–°–±‚Äì–í—Å:</strong> 10:00 ‚Äì 18:00</p>
                        </div>
                    </div>
                </div>
                
                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                <div class="additional-info">
                    <h3>–°–ø–æ—Å–æ–±—ã —Å–≤—è–∑–∏</h3>
                    <div class="contact-methods">
                        <div class="contact-method">
                            <span class="method-icon">üí¨</span>
                            <div class="method-info">
                                <strong>–û–Ω–ª–∞–π–Ω-—á–∞—Ç</strong>
                                <p>–î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å–∞–π—Ç–µ 24/7</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <span class="method-icon">üì±</span>
                            <div class="method-info">
                                <strong>Telegram</strong>
                                <p>@cleanstore_bot</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <span class="method-icon">üìû</span>
                            <div class="method-info">
                                <strong>–ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è</strong>
                                <p>8 800 123 45 67 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ -->
            <div class="contact-form-section">
                <div class="form-card">
                    <h2>üìù –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º</h2>
                    <p>–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è? –û—Å—Ç–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏</p>
                    
                    <form method="post" class="contact-form">
                        {% csrf_token %}
                        
                        <div class="form-group">
                            <label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
                            {{ form.name }}
                            {% if form.name.errors %}
                                <div class="form-error">{{ form.name.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <div class="form-error">{{ form.email.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.message.id_for_label }}">{{ form.message.label }}</label>
                            {{ form.message }}
                            {% if form.message.errors %}
                                <div class="form-error">{{ form.message.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-lg">
                            üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                        </button>
                    </form>
                </div>
                
                <!-- FAQ -->
                <div class="faq-section">
                    <h3>‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
                    <div class="faq-list">
                        <div class="faq-item">
                            <strong>–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑?</strong>
                            <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é. –ú—ã –ø–æ–º–æ–∂–µ–º –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ.</p>
                        </div>
                        <div class="faq-item">
                            <strong>–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã?</strong>
                            <p>–ü—Ä–∏–Ω–∏–º–∞–µ–º –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, –Ω–∞–ª–∏—á–Ω—ã–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏.</p>
                        </div>
                        <div class="faq-item">
                            <strong>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –¥–æ—Å—Ç–∞–≤–∫–∞?</strong>
                            <p>–î–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 2000 ‚ÇΩ. –î–æ —ç—Ç–æ–π —Å—É–º–º—ã ‚Äî 300 ‚ÇΩ.</p>
                        </div>
                        <div class="faq-item">
                            <strong>–ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä?</strong>
                            <p>–î–∞, —É –≤–∞—Å –µ—Å—Ç—å 14 –¥–Ω–µ–π –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ -->
        <div class="map-section-modern">
            <div class="map-header">
                <h2>üó∫Ô∏è –ù–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h2>
                <p>–ü—Ä–∏–µ–∑–∂–∞–π—Ç–µ –∫ –Ω–∞–º –≤ –≥–æ—Å—Ç–∏ –∏–ª–∏ –∑–∞–∫–∞–∂–∏—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É</p>
            </div>
            
            <div class="map-content">
                <div class="map-sidebar">
                    <div class="location-card">
                        <div class="location-header">
                            <div class="location-icon">üè¢</div>
                            <div class="location-info">
                                <h3>Clean Store</h3>
                                <p>–ì–ª–∞–≤–Ω—ã–π –æ—Ñ–∏—Å</p>
                            </div>
                        </div>
                        
                        <div class="location-details">
                            <div class="detail-item">
                                <span class="detail-icon">üìç</span>
                                <div class="detail-content">
                                    <strong>–ê–¥—Ä–µ—Å</strong>
                                    <p>–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ß–∏—Å—Ç–∞—è, –¥. 10, —Å—Ç—Ä. 1</p>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">üöá</span>
                                <div class="detail-content">
                                    <strong>–ú–µ—Ç—Ä–æ</strong>
                                    <p>–ß–∏—Å—Ç—ã–µ –ü—Ä—É–¥—ã (3 –º–∏–Ω –ø–µ—à–∫–æ–º)</p>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">üïí</span>
                                <div class="detail-content">
                                    <strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</strong>
                                    <p>–ü–Ω-–ü—Ç: 9:00-18:00<br>–°–±-–í—Å: 10:00-16:00</p>
                                </div>
                            </div>
                            
                            <div class="detail-item">
                                <span class="detail-icon">üìû</span>
                                <div class="detail-content">
                                    <strong>–¢–µ–ª–µ—Ñ–æ–Ω</strong>
                                    <a href="tel:+74957777777">+7 (495) 777-77-77</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="location-actions">
                            <button class="map-action-btn route" onclick="buildRoute()">
                                <span class="btn-icon">üß≠</span>
                                <span class="btn-text">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</span>
                            </button>
                            <button class="map-action-btn share" onclick="shareLocation()">
                                <span class="btn-icon">üì§</span>
                                <span class="btn-text">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="map-container-modern">
                    <div class="interactive-map" id="interactiveMap">
                        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç Yandex –∫–∞—Ä—Ç–∞ -->
                        <div class="map-loading">
                            <div class="loading-spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ä—Ç—É...</p>
                        </div>
                    </div>
                    
                    <div class="map-controls">
                        <button class="map-control-btn" onclick="centerMap()" title="–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å">üéØ</button>
                        <button class="map-control-btn" onclick="toggleSatellite()" title="–°–ø—É—Ç–Ω–∏–∫">üõ∞Ô∏è</button>
                        <button class="map-control-btn" onclick="toggleTraffic()" title="–ü—Ä–æ–±–∫–∏">üöó</button>
                        <button class="map-control-btn" onclick="toggleFullscreen()" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω">‚õ∂</button>
                    </div>
                </div>
            </div>
            
            <div class="delivery-zones">
                <h3>üöõ –ó–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                <div class="zones-grid">
                    <div class="zone-card express">
                        <div class="zone-header">
                            <span class="zone-icon">‚ö°</span>
                            <h4>–≠–∫—Å–ø—Ä–µ—Å—Å-–¥–æ—Å—Ç–∞–≤–∫–∞</h4>
                        </div>
                        <div class="zone-content">
                            <p><strong>–í —Ç–µ—á–µ–Ω–∏–µ 2-4 —á–∞—Å–æ–≤</strong></p>
                            <p>–í –ø—Ä–µ–¥–µ–ª–∞—Ö –ú–ö–ê–î</p>
                            <div class="zone-price">–û—Ç 300 ‚ÇΩ</div>
                        </div>
                    </div>
                    
                    <div class="zone-card standard">
                        <div class="zone-header">
                            <span class="zone-icon">üöö</span>
                            <h4>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h4>
                        </div>
                        <div class="zone-content">
                            <p><strong>1-2 –¥–Ω—è</strong></p>
                            <p>–ú–æ—Å–∫–≤–∞ –∏ –ú–û</p>
                            <div class="zone-price">–û—Ç 150 ‚ÇΩ</div>
                        </div>
                    </div>
                    
                    <div class="zone-card regions">
                        <div class="zone-header">
                            <span class="zone-icon">üì¶</span>
                            <h4>–ü–æ –†–æ—Å—Å–∏–∏</h4>
                        </div>
                        <div class="zone-content">
                            <p><strong>3-7 –¥–Ω–µ–π</strong></p>
                            <p>–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã –†–§</p>
                            <div class="zone-price">–û—Ç 250 ‚ÇΩ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
        <div class="contact-benefits">
            <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å?</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">üöö</div>
                    <h3>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                    <p>–î–æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –ú–æ—Å–∫–≤–µ –≤ –¥–µ–Ω—å –∑–∞–∫–∞–∑–∞, –ø–æ –†–æ—Å—Å–∏–∏ ‚Äî –∑–∞ 1-3 –¥–Ω—è</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üí∞</div>
                    <h3>–í—ã–≥–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã</h3>
                    <p>–†–∞–±–æ—Ç–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏, –ø–æ—ç—Ç–æ–º—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ª—É—á—à–∏–µ —Ü–µ–Ω—ã</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üîÑ</div>
                    <h3>–õ–µ–≥–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç</h3>
                    <p>14 –¥–Ω–µ–π –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞. –í–µ—Ä–Ω–µ–º –¥–µ–Ω—å–≥–∏ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üéØ</div>
                    <h3>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å</h3>
                    <p>–ù–∞—à–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—ã –ø–æ–º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä –¥–ª—è –≤–∞—à–∏—Ö –Ω—É–∂–¥</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Yandex Maps API -->
<script src="https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU" type="text/javascript"></script>

<!-- JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã
    setTimeout(initMap, 1000);
});

let map;
let placemark;
let isTrafficEnabled = false;
let isSatelliteEnabled = false;

function initMap() {
    const mapContainer = document.getElementById('interactiveMap');
    const loadingElement = mapContainer.querySelector('.map-loading');
    
    // –°–æ–∑–¥–∞–µ–º mock –∫–∞—Ä—Ç—É (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç Yandex Maps)
    loadingElement.innerHTML = `
        <div class="mock-map">
            <div class="map-marker">
                <div class="marker-pin">üìç</div>
                <div class="marker-info">
                    <h4>Clean Store</h4>
                    <p>—É–ª. –ß–∏—Å—Ç–∞—è, –¥. 10</p>
                </div>
            </div>
            <div class="map-streets">
                <div class="street street-1"></div>
                <div class="street street-2"></div>
                <div class="street street-3"></div>
            </div>
            <div class="map-buildings">
                <div class="building building-1"></div>
                <div class="building building-2"></div>
                <div class="building building-3"></div>
            </div>
            <div class="map-zoom">
                <button class="zoom-btn" onclick="zoomIn()">+</button>
                <button class="zoom-btn" onclick="zoomOut()">‚àí</button>
            </div>
        </div>
    `;
    
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:
    // ymaps.ready(() => {
    //     map = new ymaps.Map('interactiveMap', {
    //         center: [55.764946, 37.632137], // –ß–∏—Å—Ç—ã–µ –ü—Ä—É–¥—ã
    //         zoom: 16
    //     });
    //     
    //     placemark = new ymaps.Placemark([55.764946, 37.632137], {
    //         balloonContent: 'Clean Store<br>—É–ª. –ß–∏—Å—Ç–∞—è, –¥. 10'
    //     });
    //     
    //     map.geoObjects.add(placemark);
    // });
}

function centerMap() {
    showNotification('–ö–∞—Ä—Ç–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –Ω–∞—à–µ–º –æ—Ñ–∏—Å–µ', 'info');
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ: map.setCenter([55.764946, 37.632137]);
}

function toggleSatellite() {
    isSatelliteEnabled = !isSatelliteEnabled;
    const btn = event.target;
    
    if (isSatelliteEnabled) {
        btn.style.background = 'var(--color-primary)';
        btn.style.color = 'var(--color-white)';
        showNotification('–í–∫–ª—é—á–µ–Ω —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã–π —Ä–µ–∂–∏–º', 'info');
    } else {
        btn.style.background = 'rgba(255, 255, 255, 0.9)';
        btn.style.color = 'var(--color-gray-700)';
        showNotification('–í—ã–∫–ª—é—á–µ–Ω —Å–ø—É—Ç–Ω–∏–∫–æ–≤—ã–π —Ä–µ–∂–∏–º', 'info');
    }
    
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ: map.setType(isSatelliteEnabled ? 'yandex#satellite' : 'yandex#map');
}

function toggleTraffic() {
    isTrafficEnabled = !isTrafficEnabled;
    const btn = event.target;
    
    if (isTrafficEnabled) {
        btn.style.background = 'var(--color-accent)';
        btn.style.color = 'var(--color-white)';
        showNotification('–í–∫–ª—é—á–µ–Ω —Å–ª–æ–π –ø—Ä–æ–±–æ–∫', 'info');
    } else {
        btn.style.background = 'rgba(255, 255, 255, 0.9)';
        btn.style.color = 'var(--color-gray-700)';
        showNotification('–í—ã–∫–ª—é—á–µ–Ω —Å–ª–æ–π –ø—Ä–æ–±–æ–∫', 'info');
    }
    
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:
    // if (isTrafficEnabled) {
    //     const trafficControl = new ymaps.control.TrafficControl();
    //     map.controls.add(trafficControl);
    // }
}

function toggleFullscreen() {
    const mapContainer = document.querySelector('.map-container-modern');
    
    if (!document.fullscreenElement) {
        mapContainer.requestFullscreen().then(() => {
            showNotification('–ö–∞—Ä—Ç–∞ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ', 'info');
        });
    } else {
        document.exitFullscreen().then(() => {
            showNotification('–í—ã—Ö–æ–¥ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞', 'info');
        });
    }
}

function buildRoute() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
            position => {
                showNotification('–°—Ç—Ä–æ–∏–º –º–∞—Ä—à—Ä—É—Ç –¥–æ –≤–∞—à–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...', 'info');
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
            },
            error => {
                showNotification('–î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏', 'warning');
            }
        );
    } else {
        showNotification('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é', 'warning');
    }
}

function shareLocation() {
    const locationData = {
        title: 'Clean Store',
        text: '–ê–¥—Ä–µ—Å –º–∞–≥–∞–∑–∏–Ω–∞ Clean Store',
        url: 'https://yandex.ru/maps/?text=55.764946,37.632137'
    };
    
    if (navigator.share) {
        navigator.share(locationData).then(() => {
            showNotification('–ê–¥—Ä–µ—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!', 'success');
        });
    } else {
        // Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ Web Share API
        navigator.clipboard.writeText('Clean Store: —É–ª. –ß–∏—Å—Ç–∞—è, –¥. 10, –ú–æ—Å–∫–≤–∞').then(() => {
            showNotification('–ê–¥—Ä–µ—Å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
        });
    }
}

function zoomIn() {
    showNotification('–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–±', 'info');
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ: map.setZoom(map.getZoom() + 1);
}

function zoomOut() {
    showNotification('–£–º–µ–Ω—å—à–∞–µ–º –º–∞—Å—à—Ç–∞–±', 'info');
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ: map.setZoom(map.getZoom() - 1);
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö)
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.textContent = message;
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        border-left: 4px solid ${type === 'success' ? '#10b981' : type === 'warning' ? '#f59e0b' : '#3b82f6'};
        font-weight: 500;
        max-width: 300px;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.transform = 'translateX(0)';
    }, 100);
    
    setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}
</script>
{% endblock %}